# SideTradeCA-02-WIP

## 1. Importing Customer & Order Data


**Create Schema**

Syntax: 

> CREATE SCHEMA $SchemaName$;

Tasks :

1. Replace `$SchemaName$` with an appropriate schema name


**Create Table's**

1. Open `$RespositoryDirectory$\SideTradeCodeAcademy\SideTradeCA-02\create_customer_and_order_table.sql`
2. Copy sql to Azure Data Studio
3. Replace `$SchemaName$` with your schema name
4. Execute sql to create customer and order table


**Load Data**

1. Open `$RespositoryDirectory$'\SideTradeCA-02\copy_customer_and_order_data.txt`
2. Replace `$SchemaName$` with your schema name
3. Replace `$RespositoryDirectory$` with your repository home directory e.g `C:\Code\SideTradeCodeAcademy`
4. Execute Script in psql to load Customer and Order data


## 2. Querying Customer & Order Data


**SELECT - Query data from a single table**

Syntax:

>SELECT    
   column_1,    
   column_2,    
   ...    
 FROM    
   table_name;    
   
Tasks:    

1. Select Customer Name 
2. Select Customer Name & Email 
3. Select all Customer Columns


**ORDER BY - Sort the result set returned from a query**

Syntax: 

>SELECT  
   column_1,  
   column_2  
 FROM  
   table_name  
 ORDER BY  
   column_1 ASC,  
   column_2 DESC;  
   
Tasks:    
   
1. Sort Customers by the Name in ascending order
2. Sort Customers by the Name in descending order

**SELECT DISTINCT – remove duplicate rows in the result set**


Syntax: 

>SELECT  
   DISTINCT column_1  
 FROM  
   table_name;  
   
Tasks:    
   
1. Select distinct Cities 
2. Select distinct Cities, sorted in ascending order



## 3. Filtering Customer & Order Data

**WHERE – filters rows based on a specified condition**

Syntax:

>SELECT select_list  
 FROM table_name   
 WHERE condition;  

Tasks: 

1. Select Customers from Birmingham
2. Select Customers from Birmingham or London
3. Select Customers not from Birmingham
4. Select Orders after 31st May 2019 
5. Select Orders equal to or greater to £100
6. Select Orders after 31st May 2019, and equal to or greater £100 


**LIMIT – gets a subset of rows generated by a query**

Syntax: 

>SELECT *  
 FROM  
   table_name  
 LIMIT n;  

Tasks: 

1. Select 5 Orders
1. Select top 5 Orders by Value


**IS NULL – checks if a value is null or not**

Syntax: 

>value IS NULL

Tasks : 

1. Select Customer with no Phone Number
2. Select Customers with Phone Numbers


**Table & column aliases – how to use table and column aliases in a query**

Syntax:

>SELECT  
    column_list alias_name  
 FROM  
    table_name AS alias_name;  

1. Assign `address_line_1` column a temporray alias in query
2. Assign `customer` table a temporary alias in query



## 4. Joining Customer & Order Tables 


**INNER JOIN – selects rows from one table that have the corresponding rows in other tables**

Syntax: 

>SELECT  
   A.pka,  
   A.c1,  
   B.pkb,  
   B.c2  
 FROM  
   A  
 INNER JOIN B ON A .pka = B.fka;    

1. Select all orders for each Customer (Customer Name, Order Date and Order Amount).  


**LEFT JOIN – selects rows from one table that may or may not have the corresponding rows in other tables**

Syntax: 

>SELECT  
   A.pka,  
   A.c1,  
   B.pkb,  
   B.c2  
 FROM  
   A  
 LEFT JOIN B ON A .pka = B.fka;  

1. Select all orders for each Customer (Customer Name, Order Date and Order Amount).  **Include Customers who have never ordered**.   



## 5. Grouping Customer & Order Data


**GROUP BY – divides rows into groups and applies an aggregate function on each**

Syntax: 

>SELECT column_1, aggregate_function(column_2)    
 FROM tbl_name   
 GROUP BY column_1  

Tasks: 

1.  Select number of Customers for each City
2.  Select first Order date for each Customer 
3.  Select most recent Order date for each Customer
4.  Select total spend for each Customers (Select only Customers who have ordered at least once)
5.  Select total spend for each Customers (Include Customers who have never ordered)
